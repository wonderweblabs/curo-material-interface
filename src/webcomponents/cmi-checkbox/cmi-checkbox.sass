@import cmi_env

:host
  cursor: pointer
  display: inline-block
  white-space: nowrap

:host(:focus)
  outline: none

.hidden
  display: none

#checkboxContainer
  +transform(translateZ(0))
  display: inline-block
  position: relative
  width: 18px
  height: 18px
  vertical-align: middle
  background-color: transparent

#ink
  position: absolute
  top: -15px
  left: -15px
  width: 48px
  height: 48px
  color: $cmi-checkbox-color-primary
  opacity: 0.6
  pointer-events: none

\:host-context([dir="rtl"])
  #ink
    left: auto
    right: -15px

#ink[checked]
  color: $cmi-checkbox-color-primary

#checkbox
  +transition(background-color 140ms, border-color 140ms)
  border: solid 2px
  border-color: $cmi-checkbox-color-text
  border-radius: 2px
  box-sizing: border-box
  height: 100%
  pointer-events: none
  position: relative

  // checkbox checked animations
  &.checked #checkmark
    +animation(checkmark-expand 140ms ease-out forwards)
    // box-sizing: content-box

  &.checked
    background-color: $cmi-checkbox-color-primary
    border-color: $cmi-checkbox-color-primary

  #checkmark
    +transform(rotate(45deg))
    border-bottom-width: 2px
    border-color: $cmi-checkbox-color-checkmark
    border-left: 0
    border-right-width: 2px
    border-style: solid
    border-top: 0
    height: 10px
    left: 4px
    position: absolute
    top: -1px
    width: 5px

#checkboxLabel
  position: relative
  display: inline-block
  vertical-align: middle
  padding-left: 8px
  white-space: normal
  pointer-events: none
  color: $cmi-checkbox-color-text

\:host-context([dir="rtl"])
  #checkboxLabel
    padding-left: 0
    padding-right: 8px

#checkboxLabel[hidden]
  display: none


// disabled state

\:host([disabled])
  pointer-events: none

\:host([disabled])
  #checkbox
    opacity: 0.5
    border-color: $cmi-checkbox-color-text

\:host([disabled][checked])
  #checkbox
    background-color: $cmi-checkbox-color-text
    opacity: 0.5

\:host([disabled])
  #checkboxLabel
    opacity: 0.65


// invalid state

#checkbox.invalid:not(.checked)
  border-color: #db4437


// checkmark animation

+keyframes(checkmark-expand)
  0%
    top: 9px
    left: 6px
    width: 0px
    height: 0px
  100%
    top: -1px
    left: 4px
    width: 5px
    height: 10px

