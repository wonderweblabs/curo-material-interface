dependencies: []

tasks:
  graspi_build:
    - graspi_fonts_copy
    - graspi_replace
    - graspi_css_copy
    - graspi_css_concat
    - graspi_replace

options:
  destPath: 'graspi_build/mdi'
  css:
    basePath: 'bower_components/mdi/css'
    destFile: 'materialdesignicons.css'
    files:
      - 'materialdesignicons.css'
  fonts:
    basePath: 'bower_components/mdi/fonts'
    files:
      - 'materialdesignicons.eot'
      - 'materialdesignicons.svg'
      - 'materialdesignicons.ttf'
      - 'materialdesignicons.woff'
      - 'materialdesignicons.woff2'
  replace:
    - files:
        - 'bower_components/mdi/css/materialdesignicons.css'
      pattern:
        pattern: '(sourceMappingURL\=materialdesignicons\.css\.map)'
        modifiers: 'g'
        quotesPlaceholder: 'QUOTES1'
        doubleQuotesPlaceholder: 'QUOTES2'
      replace: ''
    - files:
        - 'graspi_build/mdi/materialdesignicons.css'
      pattern:
        pattern: '(\.\.\/fonts\/)'
        modifiers: 'g'
        quotesPlaceholder: 'QUOTES1'
        doubleQuotesPlaceholder: 'QUOTES2'
      replace: 'cmi/mdi-1.1.70/'
    - files:
        - 'graspi_build/mdi/materialdesignicons.css'
      pattern:
        pattern: '(\surl\()'
        modifiers: 'g'
        quotesPlaceholder: 'QUOTES1'
        doubleQuotesPlaceholder: 'QUOTES2'
      replace: ' font-url('