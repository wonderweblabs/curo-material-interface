webcomponent: true

dependencies:
  - polymer-1.1.0
  - iron-meta-1.0.3
  - iron-resizable-behavior-1.0.2
  - iron-selector-1.0.2
  - paper-styles-1.0.11
  - web-animations-js-2.1.2

tasks:
  graspi_build:
    - graspi_templates_copy
    - graspi_templates_concat
    - graspi_replace

options:
  basePath: 'bower_components/neon-animation'
  destFolder: 'neon-animation/webcomponents'
  templates:
    destFile: 'neon-animation.html'
    files:
      - 'neon-animation-behavior.html'
      - 'animations/opaque-animation.html'
      - 'neon-animatable-behavior.html'
      - 'neon-animation-runner-behavior.html'
      - 'neon-animated-pages.html'
      - 'neon-shared-element-animatable-behavior.html'
      - 'neon-shared-element-animation-behavior.html'
      - 'neon-animatable.html'
      - 'animations/cascaded-animation.html'
      - 'animations/fade-in-animation.html'
      - 'animations/fade-out-animation.html'
      - 'animations/hero-animation.html'
      - 'animations/ripple-animation.html'
      - 'animations/reverse-ripple-animation.html'
      - 'animations/scale-down-animation.html'
      - 'animations/scale-up-animation.html'
      - 'animations/slide-from-left-animation.html'
      - 'animations/slide-from-right-animation.html'
      - 'animations/slide-left-animation.html'
      - 'animations/slide-right-animation.html'
      - 'animations/slide-up-animation.html'
      - 'animations/slide-down-animation.html'
      - 'animations/transform-animation.html'
      - 'neon-animations.html'
      - 'web-animations.html'
  replace:
    - files:
        - "bower_components/web-animations-js/web-animations-next-lite.min.js"
      pattern:
        pattern: '\$'
        modifiers: g
      replace: DOLLARSIGNREPLACE
    - files: []
      pattern: {}
    - files:
        - "%%destPath%%/neon-animation.html"
      pattern:
        pattern: '(\<script src\=\"\.\.\/web\-animations\-js\/web\-animations\-next\-lite\.min\.js\"\>\<\/script\>)'
        modifiers: 'g'
        quotesPlaceholder: 'QUOTES1'
        doubleQuotesPlaceholder: 'QUOTES2'
      replace:
        - '<script>'
        - file: 'bower_components/web-animations-js/web-animations-next-lite.min.js'
        - '</script>'
    - files:
        - "%%destPath%%/neon-animation.html"
      pattern:
        pattern: 'DOLLARSIGNREPLACE'
        modifiers: g
      replace: '$'
    - files:
        - '%%destPath%%/neon-animation.html'
      pattern:
        pattern: '(?:\<link)(?:.*)(?:\>)'
        modifiers: 'g'
        quotesPlaceholder: 'QUOTES1'
        doubleQuotesPlaceholder: 'QUOTES2'
      replace: ''
